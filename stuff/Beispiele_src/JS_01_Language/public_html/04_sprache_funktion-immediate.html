<!DOCTYPE html>
<html>
  <head>
    <title>Funktionen: Immediate Function</title>
    <meta charset="UTF-8">
    <!--
    /*
     *  This code is released under Creative Commons Attribution 4.0 International
     *  (CC BY 4.0) license, http://creativecommons.org/licenses/by/4.0/legalcode .
     *  That means:
     *
     *  You are free to:
     *
     *      Share — copy and redistribute the material in any medium or format
     *      Adapt — remix, transform, and build upon the material
     *               for any purpose, even commercially.
     *
     *      The licensor cannot revoke these freedoms as long as you follow the
     *      license terms.
     *
     *  Under the following terms:
     *
     *      Attribution — You must give appropriate credit, provide a link to the
     *      license, and indicate if changes were made. You may do so in any
     *      reasonable manner, but not in any way that suggests the licensor endorses
     *      you or your use.
     *
     *  No additional restrictions — You may not apply legal terms or technological
     *  measures that legally restrict others from doing anything the license
     *  permits.
     *
     *
     *  2014 Aeonium Software Systems, Robert Rohm.
     */
    -->
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" type="text/css" href="res/styles.css" />
    <script type="text/javascript" >

      /*
       * Immediate-Funktion:
       * Dieses häufig verwendete Idiom deklariert eine Funktion und führt sie
       * auch sofort aus. Vorteil: die Funktion definiert ihren eigenen  Scope,
       * nur temporär benötigten Variablen müssen daher nicht global definiert
       * werden.
       *
       * Im Detail geschieht hier dreierlei:
       * - Das Funktionsobjekt  wird durch einen Funktionsausdruck definiert
       * - Die gleich darauf folgende öffnende und schließende runde Klammer
       *   veranlasst die Auswertung (d.h.: Ausführung!) der Funktion
       * - Die alles umschließenden runden Klammern fassen das Ganze als einen
       *   sofort auszuwertenden Ausdruck zusammen.
       */
      (function(){
        console.log("start");
      })();


      /**
       * In der Praxis häufig eingesetzt: z.B. für Initialisierung
       * eigener Frameworks oder Bibliotheken
       *
       * @returns {undefined}
       */
      (function(){
        console.log("start, in eigenem Scope - NICHT global!");
        // weitere Logik folgt hier - ohne "Verschmutzung" des globalen Scopes.

        // z.B. "doch" ein einziges Objekt für eine eigene Lib.
        window.$ = {};
        window.$.sayHello = function(who){
          console.log("Hello " + who);
        }
        // "window" repräsentiert das Browser-Fenster, ist nur bei JS-Ausführung
        // im Browser in der Umgebung vorhanden.
      }());

      $.sayHello("Welt");

    </script>
  </head>
  <!-- Nicht optimal, besser mit Event, mehr dazu später.  -->
  <body >
    <h1>Funktionen: Immediate Function</h1>
    <pre>

      /*
       * Immediate-Funktion:
       * Dieses häufig verwendete Idiom deklariert eine Funktion und führt sie
       * auch sofort aus. Vorteil: die Funktion definiert ihren eigenen  Scope,
       * nur temporär benötigten Variablen müssen daher nicht global definiert
       * werden.
       *
       * Im Detail geschieht hier dreierlei:
       * - Das Funktionsobjekt  wird durch einen Funktionsausdruck definiert
       * - Die gleich darauf folgende öffnende und schließende runde Klammer
       *   veranlasst die Auswertung (d.h.: Ausführung!) der Funktion
       * - Die alles umschließenden runden Klammern fassen das Ganze als einen
       *   sofort auszuwertenden Ausdruck zusammen.
       */
      (function(){
        console.log("start");
      }());


      /**
       * In der Praxis häufig eingesetzt: z.B. für Initialisierung
       * eigener Frameworks oder Bibliotheken
       *
       * @returns {undefined}
       */
      (function(){
        console.log("start, in eigenem Scope - NICHT global!");
        // weitere Logik folgt hier - ohne "Verschmutzung" des globalen Scopes.

        // z.B. "doch" ein einziges Objekt für eine eigene Lib.
        window.$ = {};
        window.$.sayHello = function(who){
          console.log("Hello " + who);
        }
        // "window" repräsentiert das Browser-Fenster, ist nur bei JS-Ausführung
        // im Browser in der Umgebung vorhanden.
      }());

      $.sayHello("Welt");
    </pre>
  </body>
</html>
