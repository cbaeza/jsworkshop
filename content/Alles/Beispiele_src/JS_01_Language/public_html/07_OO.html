<!DOCTYPE html>
<html>
  <head>
    <title>Objekte in JavaScript</title>
    <meta charset="UTF-8">
    <!--
    /*
     *  This code is released under Creative Commons Attribution 4.0 International
     *  (CC BY 4.0) license, http://creativecommons.org/licenses/by/4.0/legalcode .
     *  That means:
     *
     *  You are free to:
     *
     *      Share — copy and redistribute the material in any medium or format
     *      Adapt — remix, transform, and build upon the material
     *               for any purpose, even commercially.
     *
     *      The licensor cannot revoke these freedoms as long as you follow the
     *      license terms.
     *
     *  Under the following terms:
     *
     *      Attribution — You must give appropriate credit, provide a link to the
     *      license, and indicate if changes were made. You may do so in any
     *      reasonable manner, but not in any way that suggests the licensor endorses
     *      you or your use.
     *
     *  No additional restrictions — You may not apply legal terms or technological
     *  measures that legally restrict others from doing anything the license
     *  permits.
     *
     *
     *  2014 Aeonium Software Systems, Robert Rohm.
     */
    -->
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" type="text/css" href="res/styles.css" />
    <link rel="stylesheet" type="text/css" href="res/styles.css" />
    <script type="text/javascript" >
      /*
       * Objekte in JavaScript
       * - können Eigenschaften haben
       * - können Methoden haben
       */

      // Erzeugung von Objekte
      // a) mit Objekt-Literal

      // als Objekt ohne Eigenschaften / Methoden
      var meinObjekt = {};

      // als Objekt mit Eigenschaften / Methoden
      var meinObjekt2 = {
        // Eigenschaften
        name: 'Mustermann',
        vorname: 'Max',

        // Methoden in JavaSript: "ein Feld, initialisiert mit einer Funktion"
        sagHallo: function(zuWem){
          return "Hallo " + zuWem +  ", ich bin " + this.vorname;
        }
      };

      // Zugriff auf das Objekt und seine Eigenschaften
      // Zugriff mit .-Operator, z.B. wenn Objekt-Struktur/Typ bekannt
      console.log("name: " + meinObjekt2.name);

      // Zugriff mit Array-Syntax,
      // ... ermöglicht einen indirekten Zugriff
      console.log("vorname: " + meinObjekt2['vorname']);

      // Zugriff auf Methoden nur mit .-Operator
      console.log(meinObjekt2.sagHallo("Welt"));
      console.log(meinObjekt2['sagHallo']("Welt")); // auch möglich

      // Hinzufügen von Eigenschaften:
      meinObjekt2.anrede = 'Herr';
      console.log(meinObjekt2.anrede + ' ' + meinObjekt2.name);

      for (var name in meinObjekt2) {
        console.log("Feld " + name  + " ist " + (typeof meinObjekt2[name]) + ",  =  " + meinObjekt2[name]);
      }

      // Entfernen von Eigenschaften mit dem delete-Operator
//      meinObjekt2.anrede = undefined; // setzt Feldwert auf "undefined",
                                        // entfernt das Feld jedoch nicht!
      delete meinObjekt2.anrede;
      console.log(meinObjekt2.anrede + ' ' + meinObjekt2.name);
      for (var name in meinObjekt2) {
        console.log("Feld (2) " + name  + " =  " + meinObjekt2[name]);
      }

      // Hinzufügen von Methoden über Zuweisen eines Funktionsausdrucks
      meinObjekt2.berichte = function(){
        return "Habe gearbeitet ...";
      };
      console.log(meinObjekt2.berichte());



      // Funktions-Deklaration
      function handleOnLoad(){
//        alert('OK');
      };

    </script>
  </head>
  <!-- Nicht optimal, besser mit Event, mehr dazu später.  -->
  <body onload="handleOnLoad();">
    <h1>Objekte in JavaScript</h1>
    <pre>

      /*
       * Objekte in JavaScript
       * - können Eigenschaften haben
       * - können Methoden haben
       */

      // Erzeugung von Objekte
      // a) mit Objekt-Literal

      // als Objekt ohne Eigenschaften / Methoden
      var meinObjekt = {};

      // als Objekt mit Eigenschaften / Methoden
      var meinObjekt2 = {
        // Eigenschaften
        name: 'Mustermann',
        vorname: 'Max',

        // Methoden
        sagHallo: function(zuWem){
          return "Hallo " + zuWem, ", ich bin " + this.vorname;
        }
      };
      // Zugriff auf das Objekt und seine Eigenschaften
      // Zugriff mit .-Operator, z.B. wenn Objekt-Struktur/Typ bekannt
      console.log(meinObjekt2.name);
      // Zugriff mit Array-Syntax,
      // ... ermöglicht einen indirekten Zugriff
      console.log(meinObjekt2['vorname']);

      // Zugriff auf Methoden nur mit .-Operator
      console.log(meinObjekt2.sagHallo("Welt"));

      // Hinzufügen von Eigenschaften:
      meinObjekt2.anrede = 'Herr';
      console.log(meinObjekt2.anrede + ' ' + meinObjekt2.name);

      // Hinzufügen von Methoden über Zuweisen eines Funktionsausdrucks
      meinObjekt2.berichte = function(){
        return "Habe gearbeitet ...";
      };
      console.log(meinObjekt2.berichte());


    </pre>
  </body>
</html>
